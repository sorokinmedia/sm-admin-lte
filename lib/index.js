"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var React=require("react"),React__default=_interopDefault(React),reactRouterDom=require("react-router-dom"),lodash=require("lodash");function createCommonjsModule(e,t){return e(t={exports:{}},t.exports),t.exports}var getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function shouldUseNative(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},a=0;a<10;a++)t["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}var objectAssign=shouldUseNative()?Object.assign:function(e,t){for(var a,r,n=toObject(e),o=1;o<arguments.length;o++){for(var c in a=Object(arguments[o]))hasOwnProperty.call(a,c)&&(n[c]=a[c]);if(getOwnPropertySymbols){r=getOwnPropertySymbols(a);for(var l=0;l<r.length;l++)propIsEnumerable.call(a,r[l])&&(n[r[l]]=a[r[l]])}}return n},ReactPropTypesSecret="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret,printWarning=function(){},ReactPropTypesSecret$1=ReactPropTypesSecret_1,loggedTypeFailures={};function checkPropTypes(e,t,a,r,n){for(var o in e)if(e.hasOwnProperty(o)){var c;try{if("function"!=typeof e[o]){var l=Error((r||"React class")+": "+a+" type `"+o+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[o]+"`.");throw l.name="Invariant Violation",l}c=e[o](t,o,r,a,null,ReactPropTypesSecret$1)}catch(e){c=e}if(!c||c instanceof Error||printWarning((r||"React class")+": type specification of "+a+" `"+o+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof c+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),c instanceof Error&&!(c.message in loggedTypeFailures)){loggedTypeFailures[c.message]=!0;var s=n?n():"";printWarning("Failed "+a+" type: "+c.message+(null!=s?s:""))}}}printWarning=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}};var checkPropTypes_1=checkPropTypes,printWarning$1=function(){};function emptyFunctionThatReturnsNull(){return null}printWarning$1=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}};var factoryWithTypeCheckers=function(l,f){var o="function"==typeof Symbol&&Symbol.iterator,c="@@iterator";var d="<<anonymous>>",e={array:t("array"),bool:t("boolean"),func:t("function"),number:t("number"),object:t("object"),string:t("string"),symbol:t("symbol"),any:a(emptyFunctionThatReturnsNull),arrayOf:function(u){return a(function(e,t,a,r,n){if("function"!=typeof u)return new m("Property `"+n+"` of component `"+a+"` has invalid PropType notation inside arrayOf.");var o=e[t];if(!Array.isArray(o)){var c=_(o);return new m("Invalid "+r+" `"+n+"` of type `"+c+"` supplied to `"+a+"`, expected an array.")}for(var l=0;l<o.length;l++){var s=u(o,l,a,r,n+"["+l+"]",ReactPropTypesSecret_1);if(s instanceof Error)return s}return null})},element:a(function(e,t,a,r,n){var o=e[t];if(!l(o)){var c=_(o);return new m("Invalid "+r+" `"+n+"` of type `"+c+"` supplied to `"+a+"`, expected a single ReactElement.")}return null}),instanceOf:function(l){return a(function(e,t,a,r,n){if(!(e[t]instanceof l)){var o=l.name||d,c=function(e){if(!e.constructor||!e.constructor.name)return d;return e.constructor.name}(e[t]);return new m("Invalid "+r+" `"+n+"` of type `"+c+"` supplied to `"+a+"`, expected instance of `"+o+"`.")}return null})},node:a(function(e,t,a,r,n){return s(e[t])?null:new m("Invalid "+r+" `"+n+"` supplied to `"+a+"`, expected a ReactNode.")}),objectOf:function(u){return a(function(e,t,a,r,n){if("function"!=typeof u)return new m("Property `"+n+"` of component `"+a+"` has invalid PropType notation inside objectOf.");var o=e[t],c=_(o);if("object"!==c)return new m("Invalid "+r+" `"+n+"` of type `"+c+"` supplied to `"+a+"`, expected an object.");for(var l in o)if(o.hasOwnProperty(l)){var s=u(o,l,a,r,n+"."+l,ReactPropTypesSecret_1);if(s instanceof Error)return s}return null})},oneOf:function(s){if(!Array.isArray(s))return printWarning$1("Invalid argument supplied to oneOf, expected an instance of array."),emptyFunctionThatReturnsNull;return a(function(e,t,a,r,n){for(var o=e[t],c=0;c<s.length;c++)if(u(o,s[c]))return null;var l=JSON.stringify(s);return new m("Invalid "+r+" `"+n+"` of value `"+o+"` supplied to `"+a+"`, expected one of "+l+".")})},oneOfType:function(l){if(!Array.isArray(l))return printWarning$1("Invalid argument supplied to oneOfType, expected an instance of array."),emptyFunctionThatReturnsNull;for(var e=0;e<l.length;e++){var t=l[e];if("function"!=typeof t)return printWarning$1("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+r(t)+" at index "+e+"."),emptyFunctionThatReturnsNull}return a(function(e,t,a,r,n){for(var o=0;o<l.length;o++){var c=l[o];if(null==c(e,t,a,r,n,ReactPropTypesSecret_1))return null}return new m("Invalid "+r+" `"+n+"` supplied to `"+a+"`.")})},shape:function(i){return a(function(e,t,a,r,n){var o=e[t],c=_(o);if("object"!==c)return new m("Invalid "+r+" `"+n+"` of type `"+c+"` supplied to `"+a+"`, expected `object`.");for(var l in i){var s=i[l];if(s){var u=s(o,l,a,r,n+"."+l,ReactPropTypesSecret_1);if(u)return u}}return null})},exact:function(p){return a(function(e,t,a,r,n){var o=e[t],c=_(o);if("object"!==c)return new m("Invalid "+r+" `"+n+"` of type `"+c+"` supplied to `"+a+"`, expected `object`.");var l=objectAssign({},e[t],p);for(var s in l){var u=p[s];if(!u)return new m("Invalid "+r+" `"+n+"` key `"+s+"` supplied to `"+a+"`.\nBad object: "+JSON.stringify(e[t],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(p),null,"  "));var i=u(o,s,a,r,n+"."+s,ReactPropTypesSecret_1);if(i)return i}return null})}};function u(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function m(e){this.message=e,this.stack=""}function a(u){var i={},p=0;function e(e,t,a,r,n,o,c){if(r=r||d,o=o||a,c!==ReactPropTypesSecret_1){if(f){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}if("undefined"!=typeof console){var s=r+":"+a;!i[s]&&p<3&&(printWarning$1("You are manually calling a React.PropTypes validation function for the `"+o+"` prop on `"+r+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),i[s]=!0,p++)}}return null==t[a]?e?null===t[a]?new m("The "+n+" `"+o+"` is marked as required in `"+r+"`, but its value is `null`."):new m("The "+n+" `"+o+"` is marked as required in `"+r+"`, but its value is `undefined`."):null:u(t,a,r,n,o)}var t=e.bind(null,!1);return t.isRequired=e.bind(null,!0),t}function t(l){return a(function(e,t,a,r,n,o){var c=e[t];return _(c)!==l?new m("Invalid "+r+" `"+n+"` of type `"+i(c)+"` supplied to `"+a+"`, expected `"+l+"`."):null})}function s(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(s);if(null===e||l(e))return!0;var t=function(e){var t=e&&(o&&e[o]||e[c]);if("function"==typeof t)return t}(e);if(!t)return!1;var a,r=t.call(e);if(t!==e.entries){for(;!(a=r.next()).done;)if(!s(a.value))return!1}else for(;!(a=r.next()).done;){var n=a.value;if(n&&!s(n[1]))return!1}return!0;default:return!1}}function _(e){var t,a=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":(t=e,"symbol"===a||"Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol?"symbol":a)}function i(e){if(null==e)return""+e;var t=_(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function r(e){var t=i(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return m.prototype=Error.prototype,e.checkPropTypes=checkPropTypes_1,e.PropTypes=e},propTypes=createCommonjsModule(function(e){var t="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;e.exports=factoryWithTypeCheckers(function(e){return"object"==typeof e&&null!==e&&e.$$typeof===t},!0)});function Footer(e){return e.isShow?React__default.createElement("footer",{className:"main-footer"},e.children):null}function HeaderAuth(e){return React__default.createElement("ul",{className:"nav navbar-nav"},React__default.createElement("li",null,React__default.createElement(reactRouterDom.Link,{to:"/auth/login"},"Войти")),React__default.createElement("li",null,React__default.createElement(reactRouterDom.Link,{to:"/auth/signup"},"Регистрация")))}function HeaderDropdown(e){var t=e.items,a=e.title,r=e.icon,n=e.name,o=e.count,c=e.countIcon;return React__default.createElement("li",{className:"notifications-menu dropdown"},React__default.createElement("a",{href:"#",className:"dropdown-toggle","data-toggle":"dropdown",id:n},React__default.createElement("i",{className:r,title:a}),void 0!==o&&React__default.createElement("span",{className:c},o)),React__default.createElement("ul",{className:"dropdown-menu","aria-labelledby":n},React__default.createElement("li",null,React__default.createElement("ul",{className:"menu"},t.map(function(e){var t=e.href,a=e.title,r=e.icon;return React__default.createElement("li",{key:t},React__default.createElement(reactRouterDom.Link,{to:t},r&&React__default.createElement("i",{className:r}),a))})))))}function HeaderUserProfile(e){var t=e.userName,a=e.avatar;return React__default.createElement("li",{className:"user user-menu dropdown"},React__default.createElement("a",{href:"#",className:"dropdown-toggle","data-toggle":"dropdown"},React__default.createElement("span",{className:"hidden-xs"},t),React__default.createElement("img",{className:"user-image",src:a,alt:t})),React__default.createElement("ul",{className:"dropdown-menu"},React__default.createElement("li",{className:"user-header dropdown-header"},React__default.createElement("img",{className:"image-circle",src:a,alt:t}),React__default.createElement("p",null,t)),React__default.createElement("li",{className:"user-footer dropdown-header"},React__default.createElement("div",{className:"pull-left"},React__default.createElement(reactRouterDom.Link,{className:"btn btn-default btn-flat",to:"/user/profile/index"},"Профиль")),React__default.createElement("div",{className:"pull-right"},React__default.createElement("a",{className:"btn btn-default btn-flat",href:"/user/default/logout",onClick:e.handleLogout},"Выйти")))))}Footer.propTypes={children:propTypes.node,isShow:propTypes.bool},HeaderDropdown.propTypes={items:propTypes.array.isRequired,title:propTypes.string,icon:propTypes.string.isRequired,name:propTypes.string,count:propTypes.number,countIcon:propTypes.string},HeaderUserProfile.propTypes={handleLogout:propTypes.func,userName:propTypes.string,avatar:propTypes.string};var classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},createClass=function(){function r(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,a){return t&&r(e.prototype,t),a&&r(e,a),e}}(),_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},inherits=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},possibleConstructorReturn=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},toConsumableArray=function(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)},ProjectSearch=function(e){function t(){classCallCheck(this,t);var a=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));a.searchHandler=function(e){var t=e.target.elements.input.value;e.preventDefault(),a.setState({searchRequested:!0,projectId:t}),a.props.searchResult(t)};var e={searchRequested:!(a.hideMessages=function(){a.setState({noResult:!1})}),projectId:null,redirect:null};return a.state=_extends({},e),a.initialState=_extends({},e),a}return inherits(t,e),createClass(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.hideMessages,!1)}},{key:"componentWillReceiveProps",value:function(e){var t=e.searchProject,a=this.state,r=a.projectId;a.searchRequested&&void 0!==t.data&&(this.setState({searchRequested:!1,projectId:null}),t.data&&this.setState({redirect:"/project/project/view?id="+r}))}},{key:"componentDidUpdate",value:function(){var e=this.state.redirect,t=location;!t.pathname+t.search!==e&&e&&this.setState(_extends({},this.initialState))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.hideMessages,!1)}},{key:"render",value:function(){var e=this.state.redirect,t=this.props.searchProject;return React__default.createElement("div",{className:"header-search"},e?React__default.createElement(reactRouterDom.Redirect,{to:e}):"",React__default.createElement("form",{onSubmit:this.searchHandler},React__default.createElement("input",{className:"form-control",name:"input",placeholder:"Найти проект по ID"})),t.message&&100===t.serverStatus?React__default.createElement("div",{className:"header-search-message"},t.message):"")}}]),t}(React.Component);ProjectSearch.propTypes={isAuthorized:propTypes.bool,searchResult:propTypes.func,searchProject:propTypes.object};var Header=function(e){function a(e){classCallCheck(this,a);var t=possibleConstructorReturn(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return t.handleLogout=function(e){e.preventDefault(),t.props.logout()},t.renderHeaderItems=function(e){return e.map(function(e){var t=e.name,a=e.render,r=e.className,n=e.dropdown;return n?React__default.createElement(HeaderDropdown,_extends({},n,{key:t})):React__default.createElement("li",{key:t,className:r},a())})},t.state={},t}return inherits(a,e),createClass(a,[{key:"render",value:function(){var e=this.props.setup,t=e.isShow,a=(e.site,e.search),r=e.dropdown,n=e.logo,o=e.logoMini,c=e.userProfileLink;if(!t)return null;var l=this.props,s=l.menuItemsAfter,u=void 0===s?[]:s,i=l.menuItemsBefore,p=void 0===i?[]:i,f=l.userName,d=l.avatar,m=l.className,_=l.isAuthorized;return React__default.createElement("header",{className:"main-header "+m},React__default.createElement(reactRouterDom.Link,{to:"/",className:"logo"},React__default.createElement("span",{className:"logo-mini"},React__default.createElement("img",{src:o,alt:"Cabinet"})),React__default.createElement("span",{className:"logo-lg"},React__default.createElement("img",{src:n,alt:"Cabinet",id:"logo"}))),React__default.createElement("nav",{className:"navbar navbar-static-top"},React__default.createElement("a",{href:"#",className:"sidebar-toggle","data-toggle":"push-menu",role:"button"},React__default.createElement("span",{className:"sr-only"},"Toggle navigation")),_&&a?React__default.createElement(ProjectSearch,{searchResult:this.props.searchResult,searchProject:this.props.searchProject}):"",React__default.createElement("div",{className:"navbar-custom-menu pull-right"},_?React__default.createElement("ul",{className:"nav navbar-nav"},this.renderHeaderItems(p),React__default.createElement(HeaderUserProfile,{userName:f,avatar:d,handleLogout:this.handleLogout,userProfileLink:c}),r&&this.renderHeaderItems(u)):React__default.createElement(HeaderAuth,null))))}}]),a}(React.Component);Header.propTypes={menuItemsAfter:propTypes.array,menuItemsBefore:propTypes.array,setup:propTypes.object,searchResult:propTypes.func,logout:propTypes.func,searchProject:propTypes.object,userName:propTypes.string,avatar:propTypes.string,className:propTypes.string,isAuthorized:propTypes.bool};var iconLink=function(e,t){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return React__default.createElement("a",_extends({href:e},a),React__default.createElement("i",{className:t}))};function adminItems(e){return[{name:"userlist",render:function(){return iconLink("/user/default/index","fa fa-users text-black")}},{name:"backend",render:function(){return iconLink("course"!==e?"http://backend.sorokin.kosmoz.online":"","fa fa-cogs text-black")}}]}function getMenuItemsBefore(e){var t=e.notifications,a=e.isAdmin,r=e.site,n=[{name:"notifications",dropdown:{title:"Непрочитанных уведомлений "+t,icon:"fa fa-bell-o",count:t,countIcon:"label label-warning",items:[{title:"Все уведомления",href:"/notificator/default/index",icon:"fa fa-envelope-o text-green"},{title:"Настройка уведомлений",href:"/user/profile/notifications",icon:"fa fa-sliders text-green"}],name:"notifications"}},{name:"billing",site:"course",dropdown:{icon:"fa fa-dollar",items:[{title:"Ваш счет",href:"/billing",icon:"fa fa-money text-green"}],name:"billing"}}].filter(function(e){return e.site!==r});return[].concat(toConsumableArray(a?adminItems(r):[]),toConsumableArray(n))}function getMenuItemsAfter(){return[{name:"support",dropdown:{title:"Тех. поддержка",icon:"fa fa-question-circle-o",items:[{href:"/user/ticket/index",title:"Мои тикеты"}],name:"support"}},{name:"folders",render:function(){return iconLink("#","fa fa-gears",{"data-toggle":"control-sidebar"})}}]}function getCookie(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}var menuDecorator=function(a,r){return function(e){function t(){return classCallCheck(this,t),possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return inherits(t,e),createClass(t,[{key:"render",value:function(){var e=this.props.menus,t=r.menuId;return e.includes(t)?React__default.createElement(a,this.props):null}}]),t}(React__default.Component)};function SidebarLink(e){e.path,e.to;var t=e.className;return React__default.createElement(reactRouterDom.NavLink,_extends({},e,{className:t}),e.children)}function CourseAdminMenu(e){var t=React__default.createElement("li",null,React__default.createElement("a",{className:"hovered",onClick:function(){return e.back()}},React__default.createElement("i",{className:"fa fa-undo text-green"}),React__default.createElement("span",null,"На основного"))),a=React__default.createElement("li",null,React__default.createElement(SidebarLink,{to:"/user/default/index",onClick:e.onLink,match:e.match.path},React__default.createElement("i",{className:"fa fa-users text-green"}),React__default.createElement("span",null,"Пользователи")));return React__default.createElement("ul",{className:"sidebar-menu tree"},React__default.createElement("li",{className:"header"},React__default.createElement("span",null,React__default.createElement("span",null,"Админ меню"))),e.isUserViewCourse?t:a,React__default.createElement("li",null,React__default.createElement("a",{href:"https://backend.101kurs.com",target:"_blank",rel:"noopener noreferrer"},React__default.createElement("i",{className:"fa fa-cogs text-green"}),React__default.createElement("span",null,"Бэкенд"))))}SidebarLink.propTypes={className:propTypes.string,to:propTypes.string,path:propTypes.string,children:propTypes.node},CourseAdminMenu.propTypes={isUserViewCourse:propTypes.string,match:propTypes.object,back:propTypes.func,onLink:propTypes.func};var CourseAdminMenu$1=menuDecorator(CourseAdminMenu,{menuId:"admin"});function CourseLearnerMenu(e){return React__default.createElement("ul",{className:"sidebar-menu tree"},React__default.createElement("li",{className:"header"},React__default.createElement("span",null,React__default.createElement("span",null,"Меню ученика "))),React__default.createElement("li",null,React__default.createElement(SidebarLink,{to:"/learner/course/my",onClick:e.onLink,match:e.match.path},React__default.createElement("i",{className:"fa fa-graduation-cap"}),React__default.createElement("span",null,"Мои курсы"))),React__default.createElement("li",null,React__default.createElement(SidebarLink,{to:"/learner/product/index",onClick:e.onLink,match:e.match.path},React__default.createElement("i",{className:"fa fa-book"}),React__default.createElement("span",null,"Продукты"))))}CourseLearnerMenu.propTypes={isUserViewCourse:propTypes.bool,match:propTypes.object,back:propTypes.func,onLink:propTypes.func};var CourseLearnerMenu$1=menuDecorator(CourseLearnerMenu,{menuId:"admin"});function CourseSupportMenu(e){return React__default.createElement("ul",{className:"sidebar-menu tree"},React__default.createElement("li",{className:"header"},React__default.createElement("span",null,React__default.createElement("span",null,"Саппорт меню"))),React__default.createElement("li",null,React__default.createElement(SidebarLink,{to:"/support/dashboard/",onClick:e.onLink,match:e.match.path},React__default.createElement("i",{className:"fa fa-dashboard text-green"}),React__default.createElement("span",null,"Главный экран"))))}CourseSupportMenu.propTypes={isUserViewCourse:propTypes.bool,match:propTypes.object,back:propTypes.func,onLink:propTypes.func};var CourseSupportMenu$1=menuDecorator(CourseSupportMenu,{menuId:"admin"});function CourseMenu(e){var t=e.isUserViewCourse,a=e.leftMenu,r=e.match,n=e.onLink,o=e.back;return React__default.createElement(React.Fragment,null,React__default.createElement(CourseAdminMenu$1,{isUserViewCourse:t,menus:a.data.menus,match:r,onLink:n,back:o}),React__default.createElement(CourseSupportMenu$1,{menus:a.data.menus,match:r,onLink:n}),React__default.createElement(CourseLearnerMenu$1,{menus:a.data.menus,match:r,onLink:n}))}function AdminMenu(e){return React__default.createElement("ul",{className:"sidebar-menu tree"},React__default.createElement("li",{className:"header"},"Админ меню"),React__default.createElement("li",null,React__default.createElement("a",{href:"https://backend.sorokin.space",target:"_blank",rel:"noopener noreferrer"},React__default.createElement("i",{className:"fa fa-cogs text-green"}),React__default.createElement("span",null,"Бэкенд"))),React__default.createElement("li",null,React__default.createElement(SidebarLink,{to:"/user/default/index",onClick:e.onLink,match:e.match.path},React__default.createElement("i",{className:"fa fa-users text-green"}),React__default.createElement("span",null,"Пользователи"))))}CourseMenu.propTypes={leftMenu:propTypes.object.isRequired,onLink:propTypes.func.isRequired,back:propTypes.func.isRequired,match:propTypes.object.isRequired,isUserViewCourse:propTypes.string},CourseMenu.defaultProps={},AdminMenu.propTypes={match:propTypes.object,onLink:propTypes.func};var AdminMenu$1=menuDecorator(AdminMenu,{menuId:"admin"});function AnalyticMenu(e){return React__default.createElement("ul",{className:"sidebar-menu tree"},React__default.createElement("li",{className:"header"},"Основное меню"),React__default.createElement("li",null,React__default.createElement(reactRouterDom.NavLink,{to:"/",onClick:e.onLink},React__default.createElement("i",{className:"fa fa-home text-green"}),React__default.createElement("span",{className:"main-link"},"Главная"))),React__default.createElement("li",null,React__default.createElement(reactRouterDom.NavLink,{to:"/sites/site/index",onClick:e.onLink},React__default.createElement("i",{className:"fa fa-sitemap text-green"}),React__default.createElement("span",null,"Рабочие сайты "))),React__default.createElement("li",null,React__default.createElement(reactRouterDom.NavLink,{to:"/project/default/index",onClick:e.onLink},React__default.createElement("i",{className:"fa fa-dashboard text-green"}),React__default.createElement("span",null,"Все проекты"))))}AnalyticMenu.propTypes={onLink:propTypes.func};var AnalyticMenu$1=menuDecorator(AnalyticMenu,{menuId:"analytic"});function AnalyticToolsMenu(e){return React__default.createElement("ul",{className:"sidebar-menu tree"},React__default.createElement("li",{className:"header"},"Интсрументы"),React__default.createElement("li",null,React__default.createElement(reactRouterDom.NavLink,{to:"/sites/site/find-semantic-item",onClick:e.onLink},React__default.createElement("i",{className:"fa fa-table text-green"}),React__default.createElement("span",null,"Найти блок семантики"))),React__default.createElement("li",null,React__default.createElement(reactRouterDom.NavLink,{to:"/project/default/find-project",onClick:e.onLink},React__default.createElement("i",{className:"fa fa-product-hunt text-green"}),React__default.createElement("span",null,"Найти проект по WHO"))),React__default.createElement("li",null,React__default.createElement(reactRouterDom.NavLink,{to:"/project/default/find-project-by-name",onClick:e.onLink},React__default.createElement("i",{className:"fa fa-product-hunt text-green"}),React__default.createElement("span",null,"Найти проект по названию"))))}AnalyticToolsMenu.propTypes={onLink:propTypes.func};var AnalyticToolsMenu$1=menuDecorator(AnalyticToolsMenu,{menuId:"analytic_tools"});function ManagerMenu(t){var e=t.sites;return React__default.createElement("ul",{className:"sidebar-menu tree"},React__default.createElement("li",{className:"header"},"Меню руководителя"),React__default.createElement("li",null,React__default.createElement(reactRouterDom.NavLink,{to:"/manager/costs",onClick:t.onLink},React__default.createElement("i",{className:"fa fa-money text-aqua"}),React__default.createElement("span",null,"ЗП аналитики"))),React__default.createElement("li",null,React__default.createElement(reactRouterDom.NavLink,{to:"/manager/project/index",onClick:t.onLink},React__default.createElement("i",{className:"fa fa-line-chart text-green"}),React__default.createElement("span",null,"Общие данные"))),e?React__default.createElement("ul",{className:"sidebar-menu tree"},e.map(function(e){return React__default.createElement("li",{key:e.id},React__default.createElement(reactRouterDom.NavLink,{to:"/manager/project/single?site_id="+e.id,onClick:t.onLink},React__default.createElement("i",{className:"fa fa-globe text-green"}),React__default.createElement("span",null,e.name)))})):"")}ManagerMenu.propTypes={sites:propTypes.array,onLink:propTypes.func};var ManagerMenu$1=menuDecorator(ManagerMenu,{menuId:"manager"});function MonetizerMenu(e){return React__default.createElement("ul",{className:"sidebar-menu tree"},React__default.createElement("li",{className:"header"},"Меню монетизатора"),React__default.createElement("li",null,React__default.createElement(reactRouterDom.NavLink,{to:"/ads",onClick:e.onLink},React__default.createElement("i",{className:"fa fa-object-ungroup text-blue"}),React__default.createElement("span",null,"Работа с рекламой"))))}MonetizerMenu.propTypes={onLink:propTypes.func};var MonetizerMenu$1=menuDecorator(MonetizerMenu,{menuId:"monetizer"});function SpaceMenu(e){var t=e.leftMenu,a=e.match,r=e.onLink;return React__default.createElement(React.Fragment,null,React__default.createElement(AdminMenu$1,{menus:t.data.menus,onLink:r,match:a}),React__default.createElement(AnalyticMenu$1,{menus:t.data.menus,onLink:r,match:a}),React__default.createElement(AnalyticToolsMenu$1,{menus:t.data.menus,onLink:r,match:a}),React__default.createElement(ManagerMenu$1,{menus:t.data.menus,sites:t.data.sites,onLink:r,match:a}),React__default.createElement(MonetizerMenu$1,{menus:t.data.menus,onLink:r,match:a}))}SpaceMenu.propTypes={leftMenu:propTypes.object.isRequired,onLink:propTypes.func.isRequired,match:propTypes.object.isRequired},SpaceMenu.defaultProps={};var Sidebar=function(e){function t(e){classCallCheck(this,t);var c=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c.onLink=function(){document.documentElement.scrollTop=0},c.menu=function(){var e=c.props,t=e.leftMenu,a=e.sidebar,r=e.match,n=e.back,o=getCookie("auth_token");switch(a.menu){case"course":return React__default.createElement(CourseMenu,{onLink:c.onLink,match:r,back:n,isUserViewCourse:o,leftMenu:t});case"space":return React__default.createElement(SpaceMenu,{leftMenu:t,match:r,onLink:c.onLink});default:return React__default.createElement("div",null,"default")}},c.asideRef=React__default.createRef(),c}return inherits(t,e),createClass(t,[{key:"componentDidUpdate",value:function(){if(this.asideRef){var e=this.asideRef.clientHeight;document.querySelector(".content-wrapper").style.minHeight=e+"px"}}},{key:"render",value:function(){var e=this;if(!this.props.sidebar.isShow)return null;var t=this.props,a=t.avatar,r=t.userName,n=t.leftMenu,o=getCookie("auth_token_main");return lodash.get(n,"data")?React__default.createElement("aside",{className:"main-sidebar",ref:this.asideRef},React__default.createElement("section",{className:"sidebar"},React__default.createElement("div",{className:"user-panel",style:{color:"#fff"}},React__default.createElement("div",{className:"pull-left image"},React__default.createElement("img",{src:a,className:"img-circle",alt:r})),React__default.createElement("div",{className:"pull-left info"},React__default.createElement("p",null,r),React__default.createElement("a",{href:"#"},React__default.createElement("i",{className:"fa fa-circle text-success"}),"Online"))),o?React__default.createElement("ul",{className:"sidebar-menu tree"},React__default.createElement("li",null,React__default.createElement("a",{className:"hovered",onClick:function(){return e.props.back()}},React__default.createElement("i",{className:"fa fa-undo text-green"}),React__default.createElement("span",null,"Вернуться в основного")))):"",this.menu())):null}}]),t}(React.Component);function SidebarRight(e){return e.isShow?React__default.createElement("aside",{className:"control-sidebar control-sidebar-dark"},React__default.createElement("ul",{className:"nav nav-tabs nav-justified control-sidebar-tabs"},React__default.createElement("li",{className:"active"},React__default.createElement("a",{href:"#control-sidebar-folders-tab","data-toggle":"tab"},React__default.createElement("i",{className:"fa fa-folder"})))),React__default.createElement("div",{className:"tab-content"},React__default.createElement("h3",{className:"control-sidebar-heading"},React__default.createElement(reactRouterDom.Link,{to:"/user/project-folder/index",onClick:e.handleClick},"Управление папками")))):null}Sidebar.displayName="Sidebar",Sidebar.propTypes={avatar:propTypes.string,site:propTypes.string,back:propTypes.func,leftMenu:propTypes.object,sidebar:propTypes.shape({isShow:propTypes.bool,menu:propTypes.string}),match:propTypes.object,userName:propTypes.string},SidebarRight.propTypes={handleClick:propTypes.func.isRequired,isShow:propTypes.bool};var AppWrapper=function(e){function b(){var e,t,a;classCallCheck(this,b);for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=a=possibleConstructorReturn(this,(e=b.__proto__||Object.getPrototypeOf(b)).call.apply(e,[this].concat(n)))).handleClick=function(e){document.querySelector('[data-toggle="control-sidebar"]').click()},possibleConstructorReturn(a,t)}return inherits(b,e),createClass(b,[{key:"render",value:function(){var e=this.props,t=e.userData,a=e.match,r=e.site,n=e.header,o=e.footer,c=e.sidebar,l=e.sidebarRight,s=e.appWrapper.style,u=t.data,i=void 0===u?{}:u,p=t.error,f=i.notifications,d=i.avatar,m=void 0===d?"http://www.gravatar.com/avatar/dc36f5a91f271af325184ece55b5dbd5?r=g&s=45":d,_=i.username,y="Администратор"===i.role,h=getMenuItemsBefore({notifications:f,isAdmin:y,site:r}),R=getMenuItemsAfter();return b.displayName=b.displayName||b.name||"AppWrapper",React__default.createElement("div",{className:"app-wrapper "+this.props.wrapClass,style:_extends({overflow:"hidden"},s)},React__default.createElement("div",{className:"wrapper",style:{height:"auto",minHeight:"100%"}},React__default.createElement(Header,{avatar:m,className:"class-name",setup:n,logout:this.props.logout,menuItemsBefore:h,menuItemsAfter:R,isAuthorized:!p,isAdmin:y,searchResult:this.props.searchResult,searchProject:this.props.searchProject,userName:_}),React__default.createElement(Sidebar,{sidebar:this.props.sidebar,avatar:m,userName:_,match:a,back:this.props.backIntoMainUser,courseMenu:this.props.courseMenu,leftMenu:this.props.leftMenu}),React__default.createElement("section",{className:"content-wrapper"},this.props.children),React__default.createElement(Footer,{isShow:o.isShow},React__default.createElement("div",{className:"pull-left"},React__default.createElement("div",{className:"ft_copy"},"© Sorokin.Media 2017-2018")),React__default.createElement("div",{className:"pull-right"},React__default.createElement("div",{className:"ft_logo"},React__default.createElement("img",{src:o.footerLogo,alt:"Cabinet"})))),React__default.createElement(SidebarRight,{handleClick:this.handleClick,isShow:l}),c&&React__default.createElement("div",{className:"control-sidebar-bg"})))}}]),b}(React.Component);AppWrapper.propTypes={userData:propTypes.object.isRequired,match:propTypes.object,searchProject:propTypes.object,leftMenu:propTypes.object,site:propTypes.string,wrapClass:propTypes.string,children:propTypes.node,courseMenu:propTypes.bool,header:propTypes.object,sidebar:propTypes.object,sidebarRight:propTypes.bool,appWrapper:propTypes.object,footer:propTypes.shape({footerLogo:propTypes.string,isShow:propTypes.bool}),backIntoMainUser:propTypes.func,logout:propTypes.func,searchResult:propTypes.func},AppWrapper.defaultProps={searchProject:{},wrapClass:"",searchResult:function(){},courseMenu:!1,header:!1,sidebar:!1,sidebarRight:!1,footer:!1,appWrapper:{style:{paddingTop:"15px"}}},exports.AppWrapper=AppWrapper,exports.Header=Header,exports.Sidebar=Sidebar,exports.SidebarRight=SidebarRight,exports.Footer=Footer;
